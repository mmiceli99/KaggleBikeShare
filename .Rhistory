geom_point()
date_temp <- ggplot(vData, aes(x=vData$datetime, y=temp)) +
geom_point() +
geom_smooth()
box_humid <- ggplot(vData, aes(x=humidity, y=season))+
geom_boxplot()
weather_bar <- ggplot(vData, aes(x=weather)) +
geom_bar()
(temp_atemp + date_temp) / (box_humid + weather_bar)
ggplot(vData, aex(x=registered, y=casual)) +
geom_point()
ggplot(vData, aes(x=registered, y=casual)) +
geom_point()
mutate(vData, rental <- casual+registered)
vData <- mutate(vData, rental <- casual+registered)
ggplot(vData, aex(x=rental, y=count))+
geom_point()
ggplot(vData, aes(x=rental, y=count))+
geom_point()
vData <- mutate(vData, renta=casual+registered)
ggplot(vData, aes(x=vData$renta, y=count))+
geom_point()
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
vData$season <- as.factor(vData$season)           #change categorical data to factors
vData$holiday <- as.factor(vData$holiday)         #change categorical data to factors
vData$workingday <- as.factor(vData$workingday)   #change categorical data to factors
vData$weather <- as.factor(vData$weather)         #change categorical data to factors
vData <- mutate(vData, rental = casual+registered)
ggplot(vData, aes(x=vData$renta, y=count))+
geom_point()
ggplot(vData, aes(x=vData$rental, y=count))+
geom_point()
ggplot(vData, aes(x=rental, y=count))+
geom_point()
ggplot(vData, aes(x=registered, y=casual)) +
geom_point()
library(tidymodels)
install.packages("tidymodels")
install.packages("tidymodels")
library(tidymodel)
library(tidymodels)
install.packages("tidymodels")
install.packages("tidymodels")
install.packages("tidymodels")
install.packages("tidymodels")
install.packages("tidymodels")
install.packages("tidymodels")
install.packages("tidymodels")
install.packages("tidymodels")
install.packages("tidymodels")
install.packages("tidymodels")
install.packages("tidymodels")
install.packages("tidymodels")
library(tidymodels)
library(tidymodels)
install.packages("tidymodels")
install.packages("tidymodels")
install.packages("tidymodels")
library(tidymodels)
install.packages("pak")
pak::pak("tidymodels/tidymodels")
library(pak)
library(vroom)
library(tidyverse)
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
vData$season <- as.factor(vData$season)           #change categorical data to factors
vData$holiday <- as.factor(vData$holiday)         #change categorical data to factors
vData$workingday <- as.factor(vData$workingday)   #change categorical data to factors
vData$weather <- as.factor(vData$weather)         #change categorical data to factors
vData <- vData %>%
filter(weather != 4)
library(vroom)
library(tidyverse)
library(vroom)
library(tidyverse)
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
vData$season <- as.factor(vData$season)           #change categorical data to factors
vData$holiday <- as.factor(vData$holiday)         #change categorical data to factors
vData$workingday <- as.factor(vData$workingday)   #change categorical data to factors
vData$weather <- as.factor(vData$weather)         #change categorical data to factors
vData <- vData %>%
filter(weather != 4)
install.packages("tidyverse")
install.packages("tidyverse")
install.packages("tidyverse")
library(tidyverse)
vData <- vData %>%
filter(weather != 4)
library(vroom)
library(tidyverse)
library(patchwork)
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
vData$season <- as.factor(vData$season)           #change categorical data to factors
vData$holiday <- as.factor(vData$holiday)         #change categorical data to factors
vData$workingday <- as.factor(vData$workingday)   #change categorical data to factors
vData$weather <- as.factor(vData$weather)         #change categorical data to factors
vData <- vData %>%
filter(weather != 4) %>%
mutate(rental = registered + casual) %>%
mutate(time_of_day=hour(datetime))
vData <- vData +
filter(weather != 4) +
mutate(rental = registered + casual) +
mutate(time_of_day=hour(datetime))
vData <- vData %>%
filter(weather != 4)  %>%
mutate(rental = registered + casual) %>%
mutate(time_of_day=hour(datetime))
vData <- vData tidyverse::%>%
filter(weather != 4)  %>%
mutate(rental = registered + casual) %>%
mutate(time_of_day=hour(datetime))
vData <- vData %>%
filter(weather != 4)  %>%
mutate(rental = registered + casual) %>%
mutate(time_of_day=hour(datetime))
library(dplyr)
vData <- vData %>%
filter(weather != 4)  %>%
mutate(rental = registered + casual) %>%
mutate(time_of_day=hour(datetime))
library(lubridate)
vData <- vData %>%
filter(weather != 4)  %>%
mutate(rental = registered + casual) %>%
mutate(time_of_day=hour(datetime))
library(lubridate)
if(!require(installr)) {
install.packages("installr");
require(installr)
}
updateR()
library(vroom)
library(tidyverse)
library(dplyr)
library(lubridate)
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
install.packages("tidyverse")
install.packages("tidymodels")
library(tidymodels)
library(vroom)
library(tidyverse)
library(tidymodels)
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
vData$season <- as.factor(vData$season)           #change categorical data to factors
vData$holiday <- as.factor(vData$holiday)         #change categorical data to factors
vData$workingday <- as.factor(vData$workingday)   #change categorical data to factors
vData$weather <- as.factor(vData$weather)         #change categorical data to factors
vData <- vData %>%
filter(weather != 4)  %>%
mutate(rental = registered + casual) %>%
mutate(time_of_day=hour(datetime))
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
library(vroom)
library(tidyverse)
library(tidymodels)
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
my_recipe <- recipe(count ~ ., data=vData) %>%
step_mutate(season=as.factor(vData$season)) %>%           #change categorical data to factors
step_mutate(holiday=as.factor(vData$holiday)) %>%        #change categorical data to factors
step_mutate(workingday=as.factor(vData$workingday)) %>%
step_mutate(weather= as.factor(vData$weather)) %>%    #change categorical data to factors
step_rm(weather==4)  %>%
step_mutate(rental = registered + casual) %>%
step_time(datetime, features="dow")
my_recipe <- recipe(count ~ ., data=vData) %>%
step_mutate(season=as.factor(vData$season)) %>%           #change categorical data to factors
step_mutate(holiday=as.factor(vData$holiday)) %>%        #change categorical data to factors
step_mutate(workingday=as.factor(vData$workingday)) %>%
step_mutate(weather= as.factor(vData$weather)) %>%    #change categorical data to factors
step_rm(weather==4)  %>%
step_mutate(rental = registered + casual) %>%
step_time(datetime, features="hour")
prepped_recipe <- prep(my_recipe)
my_recipe <- recipe(count ~ ., data=vData) %>%
step_mutate(season=as.factor(vData$season)) %>%           #change categorical data to factors
step_mutate(holiday=as.factor(vData$holiday)) %>%        #change categorical data to factors
step_mutate(workingday=as.factor(vData$workingday)) %>%
step_mutate(weather= as.factor(vData$weather)) %>%    #change categorical data to factors
step_rm(vData$weather==4)  %>%
step_mutate(rental = registered + casual) %>%
step_time(datetime, features="hour")
prepped_recipe <- prep(my_recipe)
my_recipe <- recipe(count ~ ., data=vData) %>%
step_mutate(season=as.factor(vData$season)) %>%           #change categorical data to factors
step_mutate(holiday=as.factor(vData$holiday)) %>%        #change categorical data to factors
step_mutate(workingday=as.factor(vData$workingday)) %>%
step_mutate(weather= as.factor(vData$weather)) %>%    #change categorical data to factors
step_mutate(rental = registered + casual) %>%
step_time(datetime, features="hour")
prepped_recipe <- prep(my_recipe)
bake(prepped_recipe, new_data=baked_Data)
library(vroom)
library(tidyverse)
library(tidymodels)
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
my_recipe <- recipe(count ~ ., data=vData) %>%
step_mutate(season=as.factor(vData$season)) %>%           #change categorical data to factors
step_mutate(holiday=as.factor(vData$holiday)) %>%        #change categorical data to factors
step_mutate(workingday=as.factor(vData$workingday)) %>%
step_mutate(weather= as.factor(vData$weather)) %>%    #change categorical data to factors
step_mutate(rental = registered + casual) %>%
step_time(datetime, features="hour")
prepped_recipe <- prep(my_recipe)
bake(prepped_recipe, new_data=baked_Data)
?bake()
bake(prepped_recipe)
bake(prepped_recipe, new_data=vData)
View(prepped_recipe)
my_recipe <- recipe(count ~ ., data=vData) %>%
step_mutate(season=as.factor(vData$season)) %>%           #change categorical data to factors
step_mutate(holiday=as.factor(vData$holiday)) %>%        #change categorical data to factors
step_mutate(workingday=as.factor(vData$workingday)) %>%
step_mutate(weather= as.factor(vData$weather)) %>%    #change categorical data to factors
step_mutate(rental = registered + casual) %>%
step_mutate(weather=ifelse(weather==4,3,weather))
step_time(datetime, features="hour")
prepped_recipe <- prep(my_recipe)
bake(prepped_recipe, new_data=vData)
?recipe()
?prep()
?bake()
head(10)
head(bake(prepped_recipe, new_data=vData))
head(bake(prepped_recipe, new_data=vData), 10)
my_mod <- linear_reg() %>%
set_engine("lm")
library(vroom)
library(tidyverse)
library(tidymodels)
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
my_recipe <- recipe(count ~ ., data=vData) %>%
step_mutate(season=as.factor(vData$season)) %>%
step_mutate(holiday=as.factor(vData$holiday)) %>%
step_mutate(workingday=as.factor(vData$workingday)) %>%
step_mutate(weather= as.factor(vData$weather)) %>%
step_mutate(rental = registered + casual) %>%
step_mutate(weather=ifelse(weather==4,3,weather))%>%
step_time(datetime, features="hour")
prepped_recipe <- prep(my_recipe)
new_data <- bake(prepped_recipe, new_data=vData)
my_mod <- linear_reg() %>%
set_engine("lm")
bike_workflow <- workflow() %>%
add_recipe(my_recipe)
add_model(my_mod)
my_mod <- linear_reg() %>%
set_engine("lm")
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=mydataset)
my_mod <- linear_reg() %>%
set_engine("lm")
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=vData)
bike_predictions <- predict(bike_workflow,
new_data-myNewData)
bike_predictions <- predict(bike_workflow,
new_data=myNewData)
source("C:/School/Stat348/KaggleBikeShare/BikeSHareAnalysis.R", echo=TRUE)
View(bike_predictions)
vData$count-bike_predictions
mean(vData$count-bike_predictions)
train <- vroom("C:/School/Stat348/KaggleBikeShare/test.csv")
my_mod <- linear_reg() %>%
set_engine("lm")
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=train)
bike_predictions <- predict(bike_workflow,
new_data=train)
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=new_data)
bike_predictions <- predict(bike_workflow,
new_data=train)
my_mod <- linear_reg() %>%
set_engine("lm")
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=new_data)
bike_predictions <- predict(bike_workflow,
new_data=train)
test <- vroom("C:/School/Stat348/KaggleBikeShare/test.csv")
my_mod <- linear_reg() %>%
set_engine("lm")
newData <- bake(prepped_recipe, new_data=vData)
my_mod <- linear_reg() %>%
set_engine("lm")
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=newData)
bike_predictions <- predict(bike_workflow,
new_data=test)
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=vData)
bike_predictions <- predict(bike_workflow,
new_data=test)
my_mod <- linear_reg() %>%
set_engine("lm")
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=newData)
bike_predictions <- predict(bike_workflow,
new_data=test)
my_recipe
prep
prepped_recipe
bike_predictions <- predict(bike_workflow,
new_data=test)
vData <- select(-casual, -registered)
test <- vroom("C:/School/Stat348/KaggleBikeShare/test.csv")
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
vData <- select(data=vData, -casual, -registered)
test <- vroom("C:/School/Stat348/KaggleBikeShare/test.csv")
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
vData <- vData%>%
select(-casual, -registered)
my_recipe <- recipe(count ~ ., data=vData) %>%
step_mutate(season=as.factor(vData$season)) %>%
step_mutate(holiday=as.factor(vData$holiday)) %>%
step_mutate(workingday=as.factor(vData$workingday)) %>%
step_mutate(weather= as.factor(vData$weather)) %>%
step_mutate(rental = registered + casual) %>%
step_mutate(weather=ifelse(weather==4,3,weather))%>%
step_time(datetime, features="hour")
prepped_recipe <- prep(my_recipe)
newData <- bake(prepped_recipe, new_data=vData)
my_recipe <- recipe(count ~ ., data=vData) %>%
step_mutate(season=as.factor(vData$season)) %>%
step_mutate(holiday=as.factor(vData$holiday)) %>%
step_mutate(workingday=as.factor(vData$workingday)) %>%
step_mutate(weather= as.factor(vData$weather)) %>%
step_mutate(weather=ifelse(weather==4,3,weather))%>%
step_time(datetime, features="hour")
prepped_recipe <- prep(my_recipe)
newData <- bake(prepped_recipe, new_data=vData)
my_mod <- linear_reg() %>%
set_engine("lm")
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=newData)
bike_predictions <- predict(bike_workflow,
new_data=test)
my_recipe <- recipe(count ~ ., data=vData) %>%
#step_mutate(season=as.factor(vData$season)) %>%
#step_mutate(holiday=as.factor(vData$holiday)) %>%
#step_mutate(workingday=as.factor(vData$workingday)) %>%
#step_mutate(weather= as.factor(vData$weather)) %>%
step_mutate(weather=ifelse(weather==4,3,weather))%>%
step_time(datetime, features="hour")
prepped_recipe <- prep(my_recipe)
newData <- bake(prepped_recipe, new_data=vData)
my_mod <- linear_reg() %>%
set_engine("lm")
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=newData)
bike_predictions <- predict(bike_workflow,
new_data=test)
View(bike_predictions)
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
vData
unique(vData$season)
test <- vroom("C:/School/Stat348/KaggleBikeShare/test.csv")
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
my_recipe <- recipe(count ~ ., data=vData) %>%
step_mutate(season=as.factor(vData$season)) %>%
step_mutate(holiday=as.factor(vData$holiday)) %>%
step_mutate(workingday=as.factor(vData$workingday)) %>%
step_mutate(weather= as.factor(vData$weather)) %>%
step_mutate(weather=ifelse(weather==4,3,weather))%>%
step_time(datetime, features="hour")
prepped_recipe <- prep(my_recipe)
newData <- bake(prepped_recipe, new_data=vData)
my_mod <- linear_reg() %>%
set_engine("lm")
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=newData)
bike_predictions <- predict(bike_workflow,
new_data=test)
vData <- vData%>%
select(-casual, -registered)
my_recipe <- recipe(count ~ ., data=vData) %>%
step_mutate(season=as.factor(vData$season)) %>%
step_mutate(holiday=as.factor(vData$holiday)) %>%
step_mutate(workingday=as.factor(vData$workingday)) %>%
step_mutate(weather= as.factor(vData$weather)) %>%
step_mutate(weather=ifelse(weather==4,3,weather))%>%
step_time(datetime, features="hour")
prepped_recipe <- prep(my_recipe)
newData <- bake(prepped_recipe, new_data=vData)
my_mod <- linear_reg() %>%
set_engine("lm")
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=newData)
bike_predictions <- predict(bike_workflow,
new_data=test)
my_mod <- linear_reg() %>%
set_engine("lm")
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=vData)
bike_predictions <- predict(bike_workflow,
new_data=test)
my_recipe <- recipe(count ~ ., data=vData) %>%
step_mutate(season=as.factor(vData$season)) %>%
step_mutate(holiday=as.factor(vData$holiday)) %>%
step_mutate(workingday=as.factor(vData$workingday)) %>%
step_mutate(weather= as.factor(vData$weather)) %>%
step_mutate(weather=ifelse(weather==4,3,weather))%>%
step_time(datetime, features="hour")
my_mod <- linear_reg() %>%
set_engine("lm")
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=vData)
bike_predictions <- predict(bike_workflow,
new_data=test)
10886/4
prepped_recipe <- prep(my_recipe)
prepped_recipe
prepped_recipe <- prep(my_recipe) %>%
juice()
test <- vroom("C:/School/Stat348/KaggleBikeShare/test.csv")
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
vData <- vData%>%
select(-casual, -registered)
my_recipe <- recipe(count ~ ., data=vData) %>%
step_num2factor(season) %>%
step_num2factor(holiday) %>%
step_num2factor(workingday) %>%
step_num2factor(weather)%>%
step_mutate(weather=ifelse(weather==4,3,weather))%>%
step_time(datetime, features="hour")
prepped_recipe <- prep(my_recipe) %>%
juice()
newData <- bake(prepped_recipe, new_data=vData)
my_mod <- linear_reg() %>%
set_engine("lm")
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=vData)
bike_predictions <- predict(bike_workflow,
new_data=test)
juice()
?juice()
library(vroom)
library(tidyverse)
library(tidymodels)
test <- vroom("C:/School/Stat348/KaggleBikeShare/test.csv")
vData <- vroom("C:/School/Stat348/KaggleBikeShare/train.csv")
vData <- vData%>%
select(-casual, -registered)
my_recipe <- recipe(count ~ ., data=vData) %>%
step_num2factor(season) %>%
step_num2factor(holiday) %>%
step_num2factor(workingday) %>%
step_num2factor(weather)%>%
step_mutate(weather=ifelse(weather==4,3,weather))%>%
step_time(datetime, features="hour")
my_mod <- linear_reg() %>%
set_engine("lm")
bike_workflow <- workflow() %>%
add_recipe(my_recipe) %>%
add_model(my_mod) %>%
fit(data=vData)
bike_predictions <- predict(bike_workflow,
new_data=test)
vData <- vData%>%
select(-casual, -registered)
my_recipe <- recipe(count ~ ., data=vData) %>%
step_num2factor(season) %>%
step_num2factor(holiday) %>%
step_num2factor(workingday) %>%
step_num2factor(weather)%>%
step_mutate(weather=ifelse(weather==4,3,weather))%>%
step_time(datetime, features="hour")
?step_num2factor
my_recipe <- recipe(count ~ ., data=vData) %>%
step_num2factor(season,4) %>%
step_num2factor(holiday) %>%
step_num2factor(workingday) %>%
step_num2factor(weather)%>%
step_mutate(weather=ifelse(weather==4,3,weather))%>%
step_time(datetime, features="hour")
my_recipe <- recipe(count ~ ., data=vData) %>%
step_num2factor(season,4) %>%
step_num2factor(holiday,2) %>%
step_num2factor(workingday,2) %>%
step_num2factor(weather,4)%>%
step_mutate(weather=ifelse(weather==4,3,weather))%>%
step_time(datetime, features="hour")
